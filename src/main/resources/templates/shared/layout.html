<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="view(role, title, content)">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:replace="${title}">Pine Shop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    
    <!-- Chart.js for Dashboard -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
    
    <!-- Global CSS - Ch·ªâ ch·ª©a CSS d√πng chung -->
    <style>
        :root {
            --primary-color: #43a047;
            --primary-light: #66bb6a;
            --primary-dark: #388e3c;
            --secondary-color: #ffe066;
            --secondary-light: #fff176;
            --secondary-dark: #ffd54f;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

       
         body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #fff;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        html, body {
            height: 100%;
        }
      
        main {
            flex: 1; /* ph·∫ßn main chi·∫øm h·∫øt kho·∫£ng tr·ªëng c√≤n l·∫°i */
        }
        .modal {
	    z-index: 2000 !important;
		}
		
		.modal-backdrop {
		    z-index: 1990 !important;
		}
    </style>
</head>
<body th:class="${role == 'auth'} ? 'bg-light' : ''">

    <!-- Employee Layout -->
    <div th:if="${role == 'employee'}" class="d-flex" style="min-height: 100vh;">
        <!-- Sidebar c·ªë ƒë·ªãnh b√™n tr√°i -->
        <aside style="width: 260px; position: fixed; left: 0; top: 0; height: 100vh; z-index: 1000;">
            <div th:replace="~{fragments/NV_Sidebar}"></div>
        </aside>

        <!-- Main content v·ªõi margin-left ƒë·ªÉ tr√°nh sidebar -->
        <main style="margin-left: 260px; width: calc(100% - 260px); min-height: 100vh;">
            <article th:replace="${content}">CONTENT</article>
        </main>
    </div>
	<!-- üîπ Logout Modal -->
	<div class="modal fade" id="logoffModal" tabindex="-1" aria-hidden="true">
	    <div class="modal-dialog">
	        <div class="modal-content">
	            <div class="modal-header">
	                <h5 class="modal-title">ƒêƒÉng xu·∫•t</h5>
	                <button class="btn-close" data-bs-dismiss="modal"></button>
	            </div>
	            <div class="modal-body">
	                B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën ƒëƒÉng xu·∫•t kh√¥ng?
	            </div>
	            <!-- Logout Modal -->
				<div class="modal-footer">
				    <a th:href="@{/auth/login}" class="btn btn-danger">ƒêƒÉng xu·∫•t</a>
				    <button class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
				</div>
	        </div>
	    </div>
	</div>


    <!-- Customer Layout -->
    <div th:if="${role == 'customer'} " class="d-flex flex-column min-vh-100">
        <header>
            <div th:replace="~{fragments/KH_Navbar}"></div>
        </header>
        <main class="container mt-4">
            <article th:replace="${content}">CONTENT</article>
        </main>
        <footer>
            <div th:replace="~{shared/footer}"></div>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
</body>
</html>